<!-- Header -->
<div class="sticky top-0"
     x-data="{ contact: $store.instance.contact }"
     x-init="$watch('$store.instance.contact', r => (contact = r))"
>
    <div class="flex items-center justify-between bg-white border-b border-gray-200 px-4 sm:px-6 md:px-5 h-16">
        <!-- Contact -->
        <div x-show="contact.id" class="flex items-center truncate">
            <div class="flex items-center mr-4">
                <div class="">
                    <img class="inline-block rounded-full border-2 border-white box-content w-8 h-8"
                         :src="contact && contact.profilePicThumbObj && contact.profilePicThumbObj.img ? contact.profilePicThumbObj.img : ''"
                         width="32" height="32">
                </div>
            </div>
            <div class="flex flex-col truncate">
                <span class="text-md font-medium text-gray-800"
                      x-html="contact.displayName ? contact.displayName : (contact.formattedName || '')"
                ></span>
                <span class="text-sm font-medium text-gray-500"
                      x-html="contact.id ? contact.id.user : ''"
                ></span>
            </div>
        </div>
        <!-- Buttons on the right side -->
        <div x-show="contact.id" class="flex">
            <button class="p-1.5 shrink-0 rounded border border-gray-200 hover:border-gray-300 shadow-sm ml-2"
                    @click.stop="$store.instance.getMoreMessages($store.instance.selected)">
                <svg class="w-4 h-4 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </button>
            <button class="p-1.5 shrink-0 rounded border border-gray-200 hover:border-gray-300 shadow-sm ml-2">
                <svg class="w-4 h-4 fill-current text-gray-400" viewBox="0 0 16 16">
                    <path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z" />
                </svg>
            </button>
            <button class="p-1.5 shrink-0 rounded border border-gray-200 hover:border-gray-300 shadow-sm ml-2"
                    @click.stop="$store.instance.sendSeen($store.instance.selected)">
                <svg class="w-4 h-4 fill-current text-indigo-500"  viewBox="0 0 16 16">
                    <path d="M14.3 2.3L5 11.6 1.7 8.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l4 4c.2.2.4.3.7.3.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0z" />
                </svg>
            </button>
        </div>
    </div>
</div>